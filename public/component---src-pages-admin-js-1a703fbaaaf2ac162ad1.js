(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{169:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(16),c=(n(177),n(58)),o=Object(c.b)("store")(function(e){var t=e.store.CurrentUser.user;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement("p",null,"Welcome, ",t.name,"!"))}),u=n(173),l=n.n(u),s=(n(176),n(174)),p=n.n(s),m=n(183),d=n.n(m),f=n(180),h=function(){var e=p()(l.a.mark(function e(t,n,r){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),e.next=3,d.a.put(t,r,{headers:{Authorization:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=p()(l.a.mark(function e(t,n,r){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),e.next=3,d.a.get(t,{headers:{Authorization:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=p()(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(f.e,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=p()(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(f.c,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=p()(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(f.d,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=p()(l.a.mark(function e(t,n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(f.a(n),t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=p()(l.a.mark(function e(t,n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(f.b(n),t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),y=n(179),k=n(181),j=y.b.table.withConfig({displayName:"Users__Table",componentId:"njrq2h-0"})(["width:100%;tr{height:35px;}"]),z=Object(c.b)("store")(function(e){var t=e.store.CurrentUser.token,n=Object(r.useState)([]),i=n[0],c=n[1],o=(u=p()(l.a.mark(function e(n,r){var a,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[].concat(i),!n.active){e.next=8;break}return e.next=5,w(t,n.id);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,b(t,n.id);case 10:a=e.sent;case 11:o[r]=a.data.user,c(o),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])})),function(e,t){return u.apply(this,arguments)});var u;return Object(r.useEffect)(function(){var e;(e=p()(l.a.mark(function e(){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,r=n.data,c(r.users);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{title:"All users"}),a.a.createElement("h1",null,"Users"),a.a.createElement(j,null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Name"),a.a.createElement("td",null,"Email"),a.a.createElement("td",null,"Role"),a.a.createElement("td",null,"Status"),a.a.createElement("td",null,"Operations")),i.map(function(e,t){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.email),a.a.createElement("td",null,e.role),a.a.createElement("td",null,e.active?"Active":"Inactive"),a.a.createElement("td",null,a.a.createElement("button",{onClick:function(){return o(e,t)}},e.active?"Deactivate":"Activate")))}))))}),C=y.b.table.withConfig({displayName:"NewsletterEmails__Table",componentId:"sc-1pb1gvm-0"})(["width:100%;tr{height:35px;}"]),_=Object(c.b)("store")(function(e){var t=e.store.CurrentUser.token,n=Object(r.useState)([]),i=n[0],c=n[1];return Object(r.useEffect)(function(){var e;(e=p()(l.a.mark(function e(){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:n=e.sent,r=n.data,c(r);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{title:"Emails"}),a.a.createElement("h1",null,"Newsletter Emails"),a.a.createElement(C,null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Email")),i.map(function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.email))}))))}),O=y.b.table.withConfig({displayName:"Organizations__Table",componentId:"sc-1v6g1ai-0"})(["width:100%;tr{height:35px;}"]),q=Object(c.b)("store")(function(e){var t=e.store.CurrentUser.token,n=Object(r.useState)([]),i=n[0],c=n[1];return Object(r.useEffect)(function(){var e;(e=p()(l.a.mark(function e(){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:n=e.sent,r=n.data,c(r);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{title:"Organizations"}),a.a.createElement("h1",null,"Organizations"),a.a.createElement(O,null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Name")),i.map(function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.name))}))))}),I=n(83),N=n.n(I),A=n(8),T=n.n(A),F=n(175),U=function(e){function t(){return e.apply(this,arguments)||this}return T()(t,e),t.prototype.render=function(){var e=this.props,t=e.component,n=e.store,r=(e.location,N()(e,["component","store","location"]));return"undefined"==typeof window||n.isLoggedIn||n.isAdmin?a.a.createElement(t,r):(Object(F.c)("/app/login"),null)},t}(a.a.Component),L=Object(c.b)("store")(U),R=n(209),H=n.n(R),S=n(199),V=n.n(S);n(154);function M(){var e=H()(["\n  html {\n    font-family: 'Inter', sans-serif;\n  }\n  body {\n    background-color: #f3f4f6;\n    color: #212c30;\n\n    @media only screen and (max-width: 768px) {\n      padding: 0px 16px 0px 16px\n    }\n  }\n"]);return M=function(){return e},e}var P=Object(y.a)(M()),B=y.b.div.withConfig({displayName:"AdminLayout__Container",componentId:"sc-1qdxn3t-0"})(["display:flex;flex-direction:column;"]),D=y.b.div.withConfig({displayName:"AdminLayout__ContentContainer",componentId:"sc-1qdxn3t-1"})(["display:flex;flex-direction:row;"]),J=y.b.div.withConfig({displayName:"AdminLayout__MenuBox",componentId:"sc-1qdxn3t-2"})(["border-radius:8px;box-shadow:0 4px 8px 0 rgba(0,0,0,0.05),0 2px 14px 0 rgba(0,0,0,0.05);padding:16px;width:300px;margin-right:16px;"]),Q=y.b.div.withConfig({displayName:"AdminLayout__ContentBox",componentId:"sc-1qdxn3t-3"})(["width:100%;@media only screen and (min-width:768px){padding:48px 80px 48px 80px;}border-radius:8px;box-shadow:0 4px 8px 0 rgba(0,0,0,0.05),0 2px 14px 0 rgba(0,0,0,0.05);background-color:#ffffff;padding:48px 16px 48px 16px;h1{font-family:Inter;font-size:24px;font-weight:500;line-height:1.33;letter-spacing:normal;text-align:center;color:#212c30;margin:0;padding:0;margin-bottom:48px;}"]),W=y.b.div.withConfig({displayName:"AdminLayout__Top",componentId:"sc-1qdxn3t-4"})(["display:flex;justify-content:center;align-items:center;height:128px;width:100%;path{fill:#29303d;}"]),G=y.b.div.withConfig({displayName:"AdminLayout__Footer",componentId:"sc-1qdxn3t-5"})(["width:100%;margin-top:32px;font-size:12px;line-height:2;text-align:center;color:#959ba6;"]),K=function(e){var t=e.children;return a.a.createElement(B,null,a.a.createElement(W,null,a.a.createElement(F.a,{to:"/"},a.a.createElement(V.a,null))),a.a.createElement(D,null,a.a.createElement(J,null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(F.a,{to:"/admin/users"},"Users")),a.a.createElement("li",null,a.a.createElement(F.a,{to:"/admin/organizations"},"Organizations")),a.a.createElement("li",null,a.a.createElement(F.a,{to:"/admin/newsletter"},"Newsletter e-mails")))),a.a.createElement(Q,null,a.a.createElement("main",null,t),a.a.createElement(P,null))),a.a.createElement(G,null,a.a.createElement("p",null,"Terms of Service · Privacy Policy · Cookie use"),a.a.createElement("p",null,"© Topia · Legal Notice · Contact & Feedback")))};t.default=function(){return a.a.createElement(K,null,a.a.createElement(i.Router,null,a.a.createElement(L,{path:"/admin",component:o}),a.a.createElement(L,{path:"/admin/users",component:z}),a.a.createElement(L,{path:"/admin/newsletter",component:_}),a.a.createElement(L,{path:"/admin/organizations",component:q})))}},175:function(e,t,n){"use strict";n.d(t,"b",function(){return s});var r=n(0),a=n.n(r),i=n(5),c=n.n(i),o=n(35),u=n.n(o);n.d(t,"a",function(){return u.a}),n.d(t,"c",function(){return o.navigate});n(178);var l=a.a.createContext({}),s=function(e){return a.a.createElement(l.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):a.a.createElement("div",null,"Loading (StaticQuery)")})};s.propTypes={data:c.a.object,query:c.a.string.isRequired,render:c.a.func,children:c.a.func}},177:function(e,t,n){var r=n(27).f,a=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in a||n(20)&&r(a,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},178:function(e,t,n){var r;e.exports=(r=n(187))&&r.default||r},180:function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"g",function(){return p}),n.d(t,"r",function(){return m}),n.d(t,"h",function(){return d}),n.d(t,"o",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return x}),n.d(t,"u",function(){return b}),n.d(t,"q",function(){return w}),n.d(t,"s",function(){return y}),n.d(t,"t",function(){return k}),n.d(t,"k",function(){return j}),n.d(t,"j",function(){return z}),n.d(t,"n",function(){return C}),n.d(t,"i",function(){return _}),n.d(t,"m",function(){return O}),n.d(t,"p",function(){return q}),n.d(t,"l",function(){return I});var r=n(173),a=n.n(r),i=(n(176),n(174)),c=n.n(i),o=n(183),u=n.n(o),l="https://api-staging.topia.us",s=function(){var e=c()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),e.next=3,u.a.get(t,{headers:{Authorization:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),p=l+"/newsletter",m=l+"/user/login",d=l+"/ngo",f=l+"/user/password",h=l+"/admin/users",g=function(e){return l+"/admin/user/"+e+"/activate"},v=function(e){return l+"/admin/user/"+e+"/deactivate"},E=l+"/admin/newsletter_emails",x=l+"/organisations",b=l+"/user",w=function(e){return l+"/uploads/users/"+e},y=l+"/user/organizations",k=l+"/user/projects",j=function(e){return l+"/organisations/"+e},z=function(e){return l+"/organisations/"+e+"/projects"},C=l+"/sdg_targets",_=l+"/oauth/facebook",O=function(e){return l+"/projects/"+e},q=l+"/transactions",I=function(e){return l+"/uploads/projects/"+e}},181:function(e,t,n){"use strict";var r=n(194),a=n(0),i=n.n(a),c=n(231),o=n(175),u=n(195),l=n.n(u);t.a=function(e){var t=e.title,n=e.description,a=e.image,u=e.pathname,p=e.article;return i.a.createElement(o.b,{query:s,render:function(e){var r=e.site.siteMetadata,o=r.defaultTitle,s=r.titleTemplate,m=r.defaultDescription,d=r.siteUrl,f=r.defaultImage,h=r.twitterUsername,g={title:t||o,description:n||m,image:""+d+(a||f),url:""+d+(u||"/")};return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Helmet,{title:g.title,titleTemplate:s,link:[{rel:"icon",type:"image/png",sizes:"16x16",href:""+l.a},{rel:"icon",type:"image/png",sizes:"32x32",href:""+l.a},{rel:"shortcut icon",type:"image/png",href:""+l.a}]},i.a.createElement("meta",{name:"description",content:g.description}),i.a.createElement("meta",{name:"image",content:g.image}),g.url&&i.a.createElement("meta",{property:"og:url",content:g.url}),p?i.a.createElement("meta",{property:"og:type",content:"article"}):null,g.title&&i.a.createElement("meta",{property:"og:title",content:g.title}),g.description&&i.a.createElement("meta",{property:"og:description",content:g.description}),g.image&&i.a.createElement("meta",{property:"og:image",content:g.image}),i.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),h&&i.a.createElement("meta",{name:"twitter:creator",content:h}),g.title&&i.a.createElement("meta",{name:"twitter:title",content:g.title}),g.description&&i.a.createElement("meta",{name:"twitter:description",content:g.description}),g.image&&i.a.createElement("meta",{name:"twitter:image",content:g.image})))},data:r})};var s="1213910093"},187:function(e,t,n){"use strict";n.r(t);n(37);var r=n(0),a=n.n(r),i=n(5),c=n.n(i),o=n(60),u=n(3),l=function(e){var t=e.location,n=u.default.getResourcesForPathnameSync(t.pathname);return n?a.a.createElement(o.a,Object.assign({location:t,pageResources:n},n.json)):null};l.propTypes={location:c.a.shape({pathname:c.a.string.isRequired}).isRequired},t.default=l},194:function(e){e.exports={data:{site:{siteMetadata:{defaultTitle:"We accelerate social impact",titleTemplate:"%s - TOPIA",defaultDescription:"A data-driven platform to match corporates & NGOs with validated impact.",siteUrl:"https://topia.us",twitterUsername:"@topiaHQ",defaultImage:"/topia-social-cover.jpg"}}}}},195:function(e,t,n){e.exports=n.p+"static/topiafav-813ca60834c87ef1354e72c41c60b039.png"},199:function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,r.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M5.307 24.61C1.897 24.61 0 23.068 0 19.373V3.053h4.696v4.626H9.2v4.144H4.696v7.518c0 .74.29 1.06 1.062 1.06h3.248v4.21H5.307zm13.467.418c-5.307 0-9.038-3.855-9.038-8.867 0-5.045 3.763-8.9 9.038-8.9 5.307 0 9.007 3.888 9.007 8.9 0 5.012-3.732 8.867-9.007 8.867zm0-4.466c2.51 0 4.246-1.895 4.246-4.401 0-2.539-1.737-4.434-4.246-4.434-2.509 0-4.278 1.895-4.278 4.434 0 2.506 1.77 4.401 4.278 4.401zM28.96 32V7.679h4.696v1.574h.354c.836-1.06 2.22-1.992 4.568-1.992 4.374 0 7.912 3.823 7.912 8.9 0 4.947-3.28 8.867-7.655 8.867-2.606 0-4.117-1.124-4.825-2.152h-.354V32H28.96zm8.717-11.406c2.284 0 4.053-1.799 4.053-4.465 0-2.635-1.834-4.402-4.085-4.402-2.445 0-4.053 2.024-4.053 4.402 0 2.827 1.865 4.465 4.085 4.465zM52.237 5.43c-1.608 0-2.798-1.189-2.798-2.731 0-1.51 1.19-2.699 2.798-2.699 1.576 0 2.767 1.189 2.767 2.699 0 1.542-1.19 2.73-2.767 2.73zm-2.412 19.18V11.823h-2.799V7.68h7.463V24.61h-4.664zm14.013.418c-4.342 0-7.816-3.823-7.816-8.9 0-5.108 3.442-8.867 7.784-8.867 2.155 0 3.7.835 4.697 1.992h.353V7.679h4.697v12.305c0 .45.321.707.772.707H75v3.92h-4.246c-1.094 0-1.866-.836-1.866-1.8h-.353c-.901 1.285-2.252 2.217-4.697 2.217zm1.03-4.498c2.444 0 4.053-1.992 4.053-4.37 0-2.795-1.866-4.369-4.085-4.369-2.252 0-4.053 1.703-4.053 4.37 0 2.666 1.833 4.37 4.085 4.37z"}))}a.defaultProps={width:"75",height:"32",viewBox:"0 0 75 32"},e.exports=a,a.default=a}}]);
//# sourceMappingURL=component---src-pages-admin-js-1a703fbaaaf2ac162ad1.js.map