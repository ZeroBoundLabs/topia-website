{"version":3,"sources":["webpack:///./src/pages/ngo/apply.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/utils/routing.js","webpack:///./src/components/SEO.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Form/index.js","webpack:///./src/icons/topiafav.png","webpack:///./src/assets/svgs/topia.svg","webpack:///./src/components/AuthLayout/index.js","webpack:///./src/utils/auth.js"],"names":["Apply","state","email","name","orgName","error","errors","processing","handleUpdate","event","_this$setState","_this","setState","target","value","handleSubmit","_callee","_this$state","response","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","preventDefault","abrupt","onboardNGO","sent","status","navigate","statusCode","stop","render","_this2","this","props","store","isLoggedIn","_this$state2","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","_components_AuthLayout__WEBPACK_IMPORTED_MODULE_7__","_components_SEO__WEBPACK_IMPORTED_MODULE_10__","title","_components_Form__WEBPACK_IMPORTED_MODULE_11__","method","onSubmit","type","label","disabled","gatsby__WEBPACK_IMPORTED_MODULE_6__","to","React","Component","inject","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","Consumer","staticQueryData","data","query","children","propTypes","PropTypes","object","string","isRequired","func","dP","f","FProto","Function","prototype","nameRE","configurable","get","match","e","m","module","exports","require","default","API_URL","process","_ref","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","mark","route","token","params","axios","headers","Authorization","_x","_x2","_x3","apply","arguments","newsletterUrl","userLoginUrl","ngoUrl","setPasswordUrl","adminUsersUrl","adminActivateUserUrl","userId","adminDectivateUserUrl","adminNewsletterEmailsUrl","adminOrganizationsUrl","userUrl","userImageApiUrl","filename","userOrganizations","userProjects","organizationUrl","id","organizationProjectUrl","sdgTargetsUrl","oauthFacebookUrl","projectUrl","transactionsUrl","projectBannerApiUrl","SEO","description","image","pathname","article","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","_ref2","_ref2$site$siteMetada","site","siteMetadata","defaultTitle","titleTemplate","defaultDescription","siteUrl","defaultImage","twitterUsername","seo","url","Fragment","react_helmet__WEBPACK_IMPORTED_MODULE_2__","link","rel","sizes","href","favicon","content","property","_public_static_d_1213910093_json__WEBPACK_IMPORTED_MODULE_0__","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","Object","assign","json","shape","ErrMsg","styled","p","withConfig","displayName","componentId","Label","hasError","Button","input","SuccessButton","button","Line","div","Text","SubHeader","GrayButton","UploadContainer","LongText","textarea","ConfirmationBar","UploadInput","handler","onChange","InputWithLabel","SubmitButton","_ref3","Topia","fill","fillRule","defaultProps","width","height","viewBox","AuthPageStyle","createGlobalStyle","_templateObject","Container","ContentBox","Top","Footer","Layout","gatsby__WEBPACK_IMPORTED_MODULE_2__","_assets_svgs_topia_svg__WEBPACK_IMPORTED_MODULE_3___default","isBrowser","window","handleLogin","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","password","post","t0","_ref4","_callee2","_context2"],"mappings":"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","file":"component---src-pages-ngo-apply-js-fb076856ca761cbb9f48.js","sourcesContent":["import React from 'react'\nimport { navigate } from 'gatsby'\nimport AuthLayout from '../../components/AuthLayout'\nimport { inject } from 'mobx-react'\nimport { Link } from 'gatsby'\nimport { onboardNGO } from '../../utils/auth'\nimport SEO from '../../components/SEO'\nimport {\n  Line,\n  Text,\n  SubmitButton,\n  InputWithLabel,\n  ErrMsg,\n  SubHeader\n} from '../../components/Form'\n\nclass Apply extends React.Component {\n  state = {\n    email: '',\n    name: '',\n    orgName: '',\n    error: null,\n    errors: {},\n    processing: false\n  }\n\n  handleUpdate = (event) => {\n    this.setState({\n      errors: {},\n      error: null,\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = async (event) => {\n    event.preventDefault()\n    const { email, name, orgName } = this.state\n    if (email === '' || name === '' || orgName === '') {\n      this.setState({error: 'Please fill all fields'})\n      return\n    }\n\n    this.setState({ processing: true })\n    const response = await onboardNGO({email, name, orgName})\n\n    if (response.status === 200) {\n      this.setState({ error: null, processing: false })\n      navigate('/ngo/thank-you')\n    } else if (response.statusCode === 409) {\n      this.setState({\n        processing: false,\n        errors: { email: 'E-mail taken. Please use different one.' }\n      })\n    } else {\n      this.setState({\n        processing: false,\n        error: 'We cannot create your account at the moment...'\n      })\n    }\n  }\n\n  render() {\n    if (this.props.store.isLoggedIn) { navigate('/app/profile') }\n\n    const { processing, errors } = this.state\n\n    return (\n      <AuthLayout>\n        <SEO title='Apply as an NGO' />\n        <h1>Apply as an NGO</h1>\n        <SubHeader>\n          We are working hard to open Topia to the public soon, but currently\n          only role out to selected NGOs. Please fill out the form so we can see\n          if we can already help each other.\n        </SubHeader>\n        {this.state.error && <ErrMsg>{this.state.error}</ErrMsg>}\n        <form\n          method=\"post\"\n          onSubmit={event => {\n            this.handleSubmit(event)\n          }}\n        >\n          <InputWithLabel\n            error={errors.email ? errors.email : null}\n            type='email'\n            label='Email'\n            name='email'\n            handleUpdate={this.handleUpdate}\n          />\n          <InputWithLabel\n            type='text'\n            label='Organization Name'\n            name='orgName'\n            handleUpdate={this.handleUpdate}\n          />\n          <InputWithLabel\n            type='text'\n            label='Full Name'\n            name='name'\n            handleUpdate={this.handleUpdate}\n          />\n          <SubmitButton\n            label={processing ? \"Please wait...\" : \"Apply\"}\n            disabled={processing}\n          />\n          <Line />\n          <Text>\n            Already got an account? <Link to='/app/login'>Sign in</Link>\n          </Text>\n        </form>\n      </AuthLayout>\n    )\n  }\n}\n\nexport default inject(`store`)(Apply)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import axios from 'axios'\n\nconst API_URL = process.env.API_URL ? process.env.API_URL : 'http://localhost:3000'\n\nexport const get = async (route, token, params = {}) =>\n  await axios.get(route, {\n    headers: {\n      'Authorization': token\n    }\n  })\n\nexport const newsletterUrl = `${API_URL}/newsletter`\nexport const userLoginUrl = `${API_URL}/user/login`\nexport const ngoUrl = `${API_URL}/ngo`\nexport const setPasswordUrl = `${API_URL}/user/password`\nexport const adminUsersUrl = `${API_URL}/admin/users`\nexport const adminActivateUserUrl = (userId) =>\n  `${API_URL}/admin/user/${userId}/activate`\nexport const adminDectivateUserUrl = (userId) =>\n  `${API_URL}/admin/user/${userId}/deactivate`\nexport const adminNewsletterEmailsUrl = `${API_URL}/admin/newsletter_emails`\nexport const adminOrganizationsUrl = `${API_URL}/organisations`\nexport const userUrl = `${API_URL}/user`\nexport const userImageApiUrl = filename => `${API_URL}/uploads/users/${filename}`\nexport const userOrganizations = `${API_URL}/user/organizations`\nexport const userProjects = `${API_URL}/user/projects`\nexport const organizationUrl = id => `${API_URL}/organisations/${id}`\nexport const organizationProjectUrl = id => `${API_URL}/organisations/${id}/projects`\nexport const sdgTargetsUrl = `${API_URL}/sdg_targets`\nexport const oauthFacebookUrl = `${API_URL}/oauth/facebook`\nexport const projectUrl = (id) => `${API_URL}/projects/${id}`\nexport const transactionsUrl = `${API_URL}/transactions`\nexport const projectBannerApiUrl = filename => `${API_URL}/uploads/projects/${filename}`\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\nimport favicon from '../icons/topiafav.png'\n\nconst SEO = ({ title, description, image, pathname, article }) => (\n  <StaticQuery\n    query={query}\n    render={({\n      site: {\n        siteMetadata: {\n          defaultTitle,\n          titleTemplate,\n          defaultDescription,\n          siteUrl,\n          defaultImage,\n          twitterUsername,\n        },\n      },\n    }) => {\n      const seo = {\n        title: title || defaultTitle,\n        description: description || defaultDescription,\n        image: `${siteUrl}${image || defaultImage}`,\n        url: `${siteUrl}${pathname || \"/\"}`,\n      }\n\n      return (\n        <>\n          <Helmet\n            title={seo.title}\n            titleTemplate={titleTemplate}\n            link={[\n              { rel: \"icon\", type: \"image/png\", sizes: \"16x16\", href: `${favicon}` },\n              { rel: \"icon\", type: \"image/png\", sizes: \"32x32\", href: `${favicon}` },\n              { rel: \"shortcut icon\", type: \"image/png\", href: `${favicon}` },\n            ]}\n          >\n            <meta name=\"description\" content={seo.description} />\n            <meta name=\"image\" content={seo.image} />\n            {seo.url && <meta property=\"og:url\" content={seo.url} />}\n            {(article ? true : null) && (\n              <meta property=\"og:type\" content=\"article\" />\n            )}\n            {seo.title && <meta property=\"og:title\" content={seo.title} />}\n            {seo.description && (\n              <meta property=\"og:description\" content={seo.description} />\n            )}\n            {seo.image && <meta property=\"og:image\" content={seo.image} />}\n            <meta name=\"twitter:card\" content=\"summary_large_image\" />\n            {twitterUsername && (\n              <meta name=\"twitter:creator\" content={twitterUsername} />\n            )}\n            {seo.title && <meta name=\"twitter:title\" content={seo.title} />}\n            {seo.description && (\n              <meta name=\"twitter:description\" content={seo.description} />\n            )}\n            {seo.image && <meta name=\"twitter:image\" content={seo.image} />}\n          </Helmet>\n        </>\n      )\n    }}\n  />\n)\n\nexport default SEO\n\nconst query = graphql`\n  query SEO {\n    site {\n      siteMetadata {\n        defaultTitle: title\n        titleTemplate\n        defaultDescription: description\n        siteUrl: url\n        twitterUsername,\n        defaultImage: image\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react'\nimport styled from 'styled-components'\n\nexport const ErrMsg = styled.p`\n  font-size: 14px;\n  line-height: 1.57;\n  color: #ff5500;\n  text-align: center;\n`\n\nexport const Label = styled.label`\n  display: block;\n  font-family: Inter;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.57;\n  color: ${props => props.hasError ? \"#ff5500\" : \"#212c30\"};\n\n  p {\n    color: ${props => props.hasError ? \"#ff5500\" : \"#212c30\"};\n  }\n\n  input, select {\n    margin-top: 8px;\n    display: block;\n    width: 100%;\n    height: 48px;\n    border-radius: 3px;\n    border: solid 1px ${props => props.hasError ? \"#ff5500\" : \"#b8bcc3\"};\n    background-color: #ffffff;\n    font-size: 16px;\n    -webkit-appearance: none;\n    outline: none;\n    text-indent: 18px;\n    margin-bottom: 16px;\n    box-sizing: border-box;\n    line-height: 1.5;\n\n    &:focus {\n      border: solid 2px #333333;\n    }\n  }\n`\n\nconst Button = styled.input`\n  border-radius: 3px;\n  border: 1px solid #13c266;\n  background-color: #13c266;\n  height: 48px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  text-align: center;\n  color: #ffffff;\n  width: 100%;\n  margin-top: 16px;\n  margin-bottom: 32px;\n\n  &:hover {\n    opacity: 0.8;\n  }\n`\n\nexport const SuccessButton = styled.button`\n  border-radius: 3px;\n  border: 1px solid #13c266;\n  background-color: #13c266;\n  height: 48px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  text-align: center;\n  color: #ffffff;\n  width: 100%;\n  margin-top: 16px;\n  margin-bottom: 32px;\n\n  &:hover {\n    opacity: 0.8;\n  }\n`\n\nexport const Line = styled.div`\n  height: 1px;\n  opacity: 0.2;\n  background-color: #7e808c;\n  margin-bottom: 24px;\n`\n\nexport const Text = styled.p`\n  font-family: Inter;\n  font-size: 14px;\n  line-height: 1.57;\n  color: #7e808c;\n\n  a {\n    color: #13c266;\n    text-decoration: none;\n  }\n`\n\nexport const SubHeader = styled.p`\n  font-size: 16px;\n  line-height: 1.5;\n  text-align: center;\n  color: #7e808c;\n`\n\nexport const GrayButton = styled.button`\n  width: 179px;\n  height: 40px;\n  border-radius: 4px;\n  border: solid 1px #7e808c;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.57;\n  color: #7e808c;\n\n  &:hover {\n    color: #383a44;\n    border: solid 1px #383a44;\n  }\n`\n\nconst UploadContainer = styled.div`\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n\n  input[type=file] {\n    font-size: 100px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    opacity: 0;\n  }\n`\n\nexport const LongText = styled.textarea`\n  margin-top: 8px;\n  display: block;\n  width: 100%;\n  border-radius: 3px;\n  border: solid 1px #b8bcc3;\n  background-color: #ffffff;\n  font-size: 16px;\n  -webkit-appearance: none;\n  outline: none;\n  padding: 18px;\n  margin-bottom: 16px;\n  box-sizing: border-box;\n  line-height: 1.5;\n`\n\nexport const ConfirmationBar = styled.div`\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 64px;\n  opacity: 0.9;\n  background-color: #13c266;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const UploadInput = ({children, handler, name}) =>\n  <UploadContainer>\n    <GrayButton>{children}</GrayButton>\n    <input type=\"file\" name={name} onChange={handler} />\n  </UploadContainer>\n\nexport const InputWithLabel = ({value, label, type, name, handleUpdate, error}) =>\n  <Label hasError={error}>\n    {label}\n    <input type={type} name={name} onChange={handleUpdate} value={value} />\n    {error && <p>{error}</p>}\n  </Label>\n\nexport const SubmitButton = ({label, disabled}) =>\n  <Button type=\"submit\" value={label} disabled={disabled} />\n","module.exports = __webpack_public_path__ + \"static/topiafav-813ca60834c87ef1354e72c41c60b039.png\";","var React = require('react');\n\nfunction Topia (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"fill\":\"#FFF\",\"fillRule\":\"nonzero\",\"d\":\"M5.307 24.61C1.897 24.61 0 23.068 0 19.373V3.053h4.696v4.626H9.2v4.144H4.696v7.518c0 .74.29 1.06 1.062 1.06h3.248v4.21H5.307zm13.467.418c-5.307 0-9.038-3.855-9.038-8.867 0-5.045 3.763-8.9 9.038-8.9 5.307 0 9.007 3.888 9.007 8.9 0 5.012-3.732 8.867-9.007 8.867zm0-4.466c2.51 0 4.246-1.895 4.246-4.401 0-2.539-1.737-4.434-4.246-4.434-2.509 0-4.278 1.895-4.278 4.434 0 2.506 1.77 4.401 4.278 4.401zM28.96 32V7.679h4.696v1.574h.354c.836-1.06 2.22-1.992 4.568-1.992 4.374 0 7.912 3.823 7.912 8.9 0 4.947-3.28 8.867-7.655 8.867-2.606 0-4.117-1.124-4.825-2.152h-.354V32H28.96zm8.717-11.406c2.284 0 4.053-1.799 4.053-4.465 0-2.635-1.834-4.402-4.085-4.402-2.445 0-4.053 2.024-4.053 4.402 0 2.827 1.865 4.465 4.085 4.465zM52.237 5.43c-1.608 0-2.798-1.189-2.798-2.731 0-1.51 1.19-2.699 2.798-2.699 1.576 0 2.767 1.189 2.767 2.699 0 1.542-1.19 2.73-2.767 2.73zm-2.412 19.18V11.823h-2.799V7.68h7.463V24.61h-4.664zm14.013.418c-4.342 0-7.816-3.823-7.816-8.9 0-5.108 3.442-8.867 7.784-8.867 2.155 0 3.7.835 4.697 1.992h.353V7.679h4.697v12.305c0 .45.321.707.772.707H75v3.92h-4.246c-1.094 0-1.866-.836-1.866-1.8h-.353c-.901 1.285-2.252 2.217-4.697 2.217zm1.03-4.498c2.444 0 4.053-1.992 4.053-4.37 0-2.795-1.866-4.369-4.085-4.369-2.252 0-4.053 1.703-4.053 4.37 0 2.666 1.833 4.37 4.085 4.37z\"}));\n}\n\nTopia.defaultProps = {\"width\":\"75\",\"height\":\"32\",\"viewBox\":\"0 0 75 32\"};\n\nmodule.exports = Topia;\n\nTopia.default = Topia;\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport TopiaSvg from '../../assets/svgs/topia.svg'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport '../../fonts/inter.css'\n\nconst AuthPageStyle = createGlobalStyle`\n  html {\n    font-family: 'Inter', sans-serif;\n  }\n  body {\n    background-color: #f3f4f6;\n    color: #212c30;\n\n    @media only screen and (max-width: 768px) {\n      padding: 0px 16px 0px 16px\n    }\n  }\n`\n\nconst Container = styled.div`\n  @media only screen and (min-width: 768px) {\n    width: 620px;\n  }\n\n  display: flex;\n  margin: 0 auto;\n  flex-direction: column;\n`\n\nconst ContentBox = styled.div`\n  @media only screen and (min-width: 768px) {\n    padding: 48px 80px 48px 80px;\n  }\n  border-radius: 8px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 2px 14px 0 rgba(0, 0, 0, 0.05);\n  background-color: #ffffff;\n  padding: 48px 16px 48px 16px;\n\n  h1 {\n    font-family: Inter;\n    font-size: 24px;\n    font-weight: 500;\n    line-height: 1.33;\n    letter-spacing: normal;\n    text-align: center;\n    color: #212c30;\n    margin: 0;\n    padding: 0;\n    margin-bottom: 48px;\n  }\n`\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 128px;\n\n  path {\n    fill: #29303d;\n  }\n`\n\nconst Footer = styled.div`\n  margin-top: 32px;\n  font-size: 12px;\n  line-height: 2;\n  text-align: center;\n  color: #959ba6;\n`\n\nconst Layout = ({ children }) => (\n  <Container>\n    <Top>\n      <Link to='/'>\n        <TopiaSvg />\n      </Link>\n    </Top>\n    <ContentBox>\n      <main>{children}</main>\n      <AuthPageStyle />\n    </ContentBox>\n    <Footer>\n      <p>Terms of Service · Privacy Policy · Cookie use</p>\n      <p>© Topia · Legal Notice · Contact & Feedback</p>\n    </Footer>\n  </Container>\n\n)\n\nexport default Layout\n","import axios from 'axios'\nimport { userLoginUrl, ngoUrl } from './routing'\nconst isBrowser = typeof window !== `undefined`\n\nexport const handleLogin = async ({ email, password }) => {\n  if (!isBrowser) return {}\n\n  const params = { email, password }\n\n  try {\n    const response = await axios.post(userLoginUrl, params)\n    return response\n  } catch (e) {\n    return {}\n  }\n}\n\nexport const onboardNGO = async ({ email, name, orgName }) => {\n  if (!isBrowser) return {}\n\n  const params = { email, name, orgName }\n\n  try {\n    const response = await axios.post(ngoUrl, params)\n    return response\n  } catch (e) {\n    return e.response.data\n  }\n}\n"],"sourceRoot":""}